<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="slider.css">
</head>
<body>
  
  <div class="slider">
    <div class="slide-box">
      <div class="slide1"></div>
      <div class="slide2"></div>
      <div class="slide3"></div>
    </div>
  </div>
  <div class="btns">
    <button class="prev">prev</button>
    <button class="next">next</button>
  </div>

  <script
  src="https://code.jquery.com/jquery-3.6.0.js"
  integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
  crossorigin="anonymous"></script>

  <script>

    $(function(){
      //5. 현재 페이지 인덱스 변수 초기회
      let current = 0;

      //1. slider 주 기능 함수 정의
      function slider(n){
        //3. slider box 이동
        $(".slide-box").animate({left:"-100" * n + "%"}, 600);
        //6. current 초기화 변수에 변경된 인덱스 n 재할당
        current = n;
      }

      //4. next를 클릭 했을 때 슬라이드 왼쪽으로 한 칸 이동
      $(".next").click(function(){
        console.log(current);
        if(current === 2){
          return false;
        } else {
          slider(current + 1);
        }

      });

      $(".prev").click(function(){
        console.log(current);
        if(current === 0){
          return false;
        } else {
          slider(current - 1);
        }
      });

      //7. slider 자동 실행
      setInterval( () => {

       slider((current + 1) % 3);

      }, 2000);

      //2. 함수 호출
      slider(0);


    });
  </script>

</body>
</html>